(function(y,t){typeof exports=="object"&&typeof module<"u"?t(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],t):(y=typeof globalThis<"u"?globalThis:y||self,t(y.VueFlux={},y.Vue))})(this,function(y,t){"use strict";var je=Object.defineProperty;var Xe=(y,t,O)=>t in y?je(y,t,{enumerable:!0,configurable:!0,writable:!0,value:O}):y[t]=O;var u=(y,t,O)=>(Xe(y,typeof t!="symbol"?t+"":t,O),O);const O=(l,e)=>{const o=l.__vccOpts||l;for(const[n,s]of e)o[n]=s;return o},lt={},at={type:"button",class:"flux-button",style:{outline:"0"}},ct={viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",version:"1.1"},pt=t.createElementVNode("circle",{cx:"50",cy:"50",r:"50"},null,-1),dt={viewBox:"-20 -20 140 140"};function ft(l,e){return t.openBlock(),t.createElementBlock("button",at,[(t.openBlock(),t.createElementBlock("svg",ct,[pt,(t.openBlock(),t.createElementBlock("svg",dt,[t.renderSlot(l.$slots,"default")]))]))])}const M=O(lt,[["render",ft]]),H=({width:l,height:e})=>Math.ceil(Math.sqrt(l*l+e*e)),G=({width:l,height:e})=>l/e,ut=Object.freeze(Object.defineProperty({__proto__:null,aspectRatio:G,diag:H},Symbol.toStringTag,{value:"Module"}));class F{constructor({top:e=null,left:o=null}={top:null,left:null}){u(this,"top",t.ref(null));u(this,"left",t.ref(null));this.update({top:e,left:o})}reset(){this.top.value=null,this.left.value=null}isValid(){return![this.top.value,this.left.value].includes(null)}update({top:e,left:o}){this.top.value=e??null,this.left.value=o??null}toValue(){const e={top:void 0,left:void 0};return this.top.value!==null&&(e.top=this.top.value),this.left.value!==null&&(e.left=this.left.value),e}toPx(){if(!this.isValid())throw new RangeError("Invalid position in pixels");return{top:this.top.value.toString()+"px",left:this.left.value.toString()+"px"}}}class K{constructor(e,o,n=x.fill,s=null,r,p,c){u(this,"src");u(this,"loader",null);u(this,"errorMessage");u(this,"status",t.ref(N.notLoaded));u(this,"realSize",new b);u(this,"displaySize",new b);u(this,"caption","");u(this,"resizeType");u(this,"backgroundColor",null);u(this,"display");u(this,"transition");u(this,"isLoading",()=>this.status.value===N.loading);u(this,"isLoaded",()=>this.status.value===N.loaded);u(this,"isError",()=>this.status.value===N.error);u(this,"resizeProps",t.computed(()=>this.calcResizeProps(this.displaySize)));this.src=e,this.caption=o,this.resizeType=n,this.backgroundColor=s,this.display=r,this.transition=p,this.errorMessage=c}calcResizeProps(e){if([e.isValid(),this.realSize.isValid()].includes(!1))return{};const o=new mt(this.realSize),{size:n,position:s}=o.resizeTo(e,this.resizeType);return{...n.toValue(),...s.toValue()}}getResizeProps(e,o){const n={width:0,height:0,top:0,left:0};return this.displaySize.isValid()||this.displaySize.update(e.toValue()),Object.assign(n,e.equals(this.displaySize)?this.resizeProps.value:this.calcResizeProps(e)),o!==void 0&&(n.top-=o.top.value||0,n.left-=o.left.value||0),n}}class ht extends K{constructor(e,o="",n=x.fill,s=null){const r={component:X,props:{}},p={component:X,props:{}},c=`Image ${e} could not be loaded`;super(e,o,n,s,r,p,c)}load(){return this.loader!==null?this.loader:(this.loader=new Promise((e,o)=>{this.status.value=N.loading;const n=new Image;n.onload=()=>this.onLoad(n,e),n.onerror=()=>this.onError(o),n.src=this.src}),this.loader)}onLoad(e,o){this.realSize=new b({width:e.naturalWidth||e.width,height:e.naturalHeight||e.height}),this.status.value=N.loaded,o()}onError(e){this.status.value=N.error,e(this.errorMessage)}}var q=(l=>(l.notLoaded="notLoaded",l.loading="loading",l.loaded="loaded",l.error="error",l))(q||{});const N=q;var J=(l=>(l.fill="fill",l.fit="fit",l))(J||{});const x=J,Z=l=>l>=1?"landscape":"portrait";class mt{constructor(e){u(this,"realSize");u(this,"realAspectRatio");u(this,"realOrientation");if(e.isValid()===!1)throw new RangeError("Invalid real size");this.realSize=e,this.realAspectRatio=this.realSize.getAspectRatio(),this.realOrientation=Z(this.realAspectRatio)}resizeTo(e,o){if(e.isValid()===!1)throw new RangeError("Invalid size to resize");const n=e.getAspectRatio(),s=Z(n),r=this.getAdaptedSize(e,n,s,o),p=this.getAdaptedPosition(e,n,r,o);return{size:r,position:p}}getAdaptedSize(e,o,n,s){return n==="landscape"&&this.realOrientation==="portrait"&&s===x.fill?this.getAdaptedSizeByWith(e):n==="landscape"&&this.realOrientation==="landscape"&&o>=this.realAspectRatio&&s===x.fill?this.getAdaptedSizeByWith(e):n==="landscape"&&this.realOrientation==="landscape"&&o<this.realAspectRatio&&s===x.fit?this.getAdaptedSizeByWith(e):n==="portrait"&&this.realOrientation==="landscape"&&s===x.fit?this.getAdaptedSizeByWith(e):n==="portrait"&&this.realOrientation==="portrait"&&o>this.realAspectRatio&&s===x.fill?this.getAdaptedSizeByWith(e):n==="portrait"&&this.realOrientation==="portrait"&&o<=this.realAspectRatio&&s===x.fit?this.getAdaptedSizeByWith(e):this.getAdaptedSizeByHeight(e)}getAdaptedSizeByWith(e){return new b({width:e.width.value,height:e.width.value/this.realAspectRatio})}getAdaptedSizeByHeight(e){return new b({width:this.realAspectRatio*e.height.value,height:e.height.value})}getAdaptedPosition(e,o,n,s){return this.realAspectRatio<=o&&s===x.fill?this.getAdaptedPositionVertically(e,n):this.realAspectRatio>o&&s===x.fit?this.getAdaptedPositionVertically(e,n):this.getAdaptedPositionHorizontally(e,n)}getAdaptedPositionVertically(e,o){return new F({top:(e.height.value-o.height.value)/2,left:0})}getAdaptedPositionHorizontally(e,o){return new F({top:0,left:(e.width.value-o.width.value)/2})}}class yt{constructor(e,o,n,s,r,p,c,d){u(this,"rscs",[]);u(this,"counter",{success:0,error:0,total:0});u(this,"toPreload");u(this,"preLoading",[]);u(this,"lazyLoading",[]);u(this,"progress",t.ref(0));u(this,"displaySize");u(this,"onPreloadStart");u(this,"onPreloadEnd");u(this,"onLazyLoadStart");u(this,"onLazyLoadEnd");u(this,"isCancelled",!1);u(this,"reject");this.rscs=e,this.toPreload=o>e.length?e.length:o,this.displaySize=n,this.onPreloadStart=s,this.onPreloadEnd=r,this.onLazyLoadStart=p,this.onLazyLoadEnd=c,this.reject=d,this.preloadStart()}preloadStart(){this.onPreloadStart();const{counter:e}=this,o=this.rscs.slice(e.total,e.total+this.toPreload-e.success);this.preLoading=this.preLoading.concat(o),o.forEach(n=>this.load(n))}preloadEnd(){const{counter:e,toPreload:o}=this;if(e.success<o&&e.total<this.rscs.length){this.preloadStart();return}const n=this.preLoading.filter(s=>s.resource.isLoaded());this.onPreloadEnd(n),this.preLoading.length=0,e.total<this.rscs.length&&this.lazyLoadStart()}lazyLoadStart(){this.onLazyLoadStart(),this.lazyLoading=this.rscs.slice(this.counter.total),this.lazyLoading.forEach(e=>this.load(e))}lazyLoadEnd(){const e=this.lazyLoading.filter(o=>o.resource.isLoaded());this.onLazyLoadEnd(e),this.lazyLoading.length=0}load(e){e.resource.load().then(()=>{this.loadSuccess(e)}).catch(o=>{this.loadError(o)}).finally(()=>{this.counter.total++,!this.isCancelled&&(this.preLoading.length!==0&&this.updateProgress(),this.counter.total===this.toPreload?this.preloadEnd():this.counter.total===this.rscs.length&&this.lazyLoadEnd())})}loadSuccess(e){this.counter.success++,!this.isCancelled&&e.resource.displaySize.update(this.displaySize.toValue())}loadError(e){this.counter.error++,!this.isCancelled&&console.error(e)}updateProgress(){this.progress.value=Math.ceil(this.counter.success*100/this.toPreload)||0}hasFinished(){return this.counter.total===this.rscs.length}cancel(){this.isCancelled=!0,this.reject("Resources loading cancelled",this.rscs)}}class b{constructor({width:e=null,height:o=null}={width:null,height:null}){u(this,"width",t.ref(null));u(this,"height",t.ref(null));this.update({width:e,height:o})}reset(){this.width.value=null,this.height.value=null}isValid(){return![this.width.value,this.height.value].includes(null)}update({width:e,height:o}){this.width.value=e??null,this.height.value=o??null}getAspectRatio(){if(!this.isValid())throw new RangeError("Could not get aspect ratio due to invalid size");return G(this.toValue())}clone(){return new b(this.toValue())}equals(e){return!(this.width.value!==e.width.value||this.height.value!==e.height.value)}toValue(){const e={};return this.width.value!==null&&(e.width=this.width.value),this.height.value!==null&&(e.height=this.height.value),e}toPx(){if(!this.isValid())throw new RangeError("Invalid size in pixels");return{width:this.width.value.toString()+"px",height:this.height.value.toString()+"px"}}}function A(l,e,o){o.base===void 0&&(o.base={});const n=t.computed(()=>{const{size:a,viewSize:i=new b}=e,{width:f=a.width.value,height:h=a.height.value}=i.toValue(),m=new b({width:f,height:h});return m.isValid()?m.toPx():{}}),s=t.computed(()=>({...t.unref(n),...t.unref(o.color),...t.unref(o.rsc),...t.unref(e.css),...t.unref(o.base)})),r=a=>{Object.assign(o.base,a)};return{style:s,setCss:r,transform:a=>{l.value!==null&&(l.value.clientHeight,r(a))},show:()=>{r({visibility:"visible"})},hide:()=>{r({visibility:"hidden"})}}}const Q={x:{top:"90",bottom:"-90"},y:{back:"180",backr:"180",backl:"-180",left:"-90",right:"90"}},v={x:{left:"-50",right:"50"},y:{top:"-50",bottom:"50"}};class gt{constructor(e,o,n){u(this,"depth");u(this,"size");u(this,"viewSize");u(this,"translateZ",t.computed(()=>{const e=this.depth/2,{width:o,height:n}=this.size.toValue(),{width:s,height:r}=this.viewSize.toValue();return{front:0,back:this.depth,backr:this.depth,backl:this.depth,left:e,right:(s??o)-e,top:e,bottom:(r??n)-e}}));this.depth=e,this.size=o,this.viewSize=n}getRotate(e){const o=Q.x[e]??"0",n=Q.y[e]??"0";return`rotateX(${o}deg) rotateY(${n}deg)`}getTranslate(e){const o=v.x[e]??"0",n=v.y[e]??"0",s=this.translateZ.value[e].toString();return`translate3d(${o}%, ${n}%, ${s}px)`}getSideCss(e){return`${this.getRotate(e)} ${this.getTranslate(e)}`}}class wt{static getProps(e,o,n,s,r){const{depth:p,size:c,viewSize:d}=e,a={name:o,component:s?s.transition.component:X,color:n,rsc:s,size:c.clone(),viewSize:d.clone(),offset:r,style:{position:"absolute",transform:e.getSideCss(o),backfaceVisibility:"hidden"}};return["left","right"].includes(o)&&(a.viewSize.width.value=p,a.size.width.value=p),["top","bottom"].includes(o)&&(a.viewSize.height.value=p,a.size.height.value=p),a}}var P=(l=>(l.front="front",l.back="back",l.left="left",l.right="right",l.top="top",l.bottom="bottom",l))(P||{});function kt(l,e,o){return!!(e&&e[l]||o&&o[l])}function zt(l,e,o,n){const s=Object.values(P);return l||o?s:Object.values(P).filter(r=>kt(r,e,n))}class $t{static getSidesProps(e,o,n,s,r,p,c){const d=zt(o,n,s,r),a={};return d.forEach(i=>{a[i]=wt.getProps(e,i,n&&n[i]?n[i]:o,r&&r[i]?r[i]:s,c&&c[i]?c[i]:p)}),a}}const j=t.defineComponent({__name:"FluxCube",props:{colors:{default:()=>({})},rscs:{default:()=>({})},offsets:{default:()=>({})},depth:{default:0},origin:{},color:{},rsc:{},size:{},viewSize:{default:()=>new b},offset:{},css:{}},setup(l,{expose:e}){const o=l,n=t.ref(null),s=t.computed(()=>o.origin!==void 0?o.origin:`center center -${o.depth/2}px`),r=t.reactive({base:{transformStyle:"preserve-3d",transformOrigin:s}}),{style:p,setCss:c,transform:d,show:a,hide:i}=A(n,o,r),f=t.computed(()=>new gt(o.depth,o.size,o.viewSize)),h=t.computed(()=>$t.getSidesProps(f.value,o.color,o.colors,o.rsc,o.rscs,o.offset,o.offsets)),m=t.reactive({});return t.onBeforeUpdate(()=>{Object.assign(m,{[P.front]:void 0,[P.back]:void 0,[P.left]:void 0,[P.right]:void 0,[P.top]:void 0,[P.bottom]:void 0})}),e({setCss:c,transform:d,show:a,hide:i,turn:g=>d({transform:f.value.getRotate(g)})}),(g,z)=>(t.openBlock(),t.createElementBlock("div",{ref_key:"$el",ref:n,class:"flux-cube",style:t.normalizeStyle(t.unref(p))},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(h.value,S=>(t.openBlock(),t.createBlock(t.resolveDynamicComponent(S.component),t.mergeProps({ref_for:!0,ref:D=>m[S.name]=D,key:S.name},S),null,16))),128))],4))}});var R=(l=>(l.front="front",l.back="back",l.backr="backr",l.backl="backl",l.left="left",l.right="right",l.top="top",l.bottom="bottom",l))(R||{});function tt(l,e){return Math.floor(l/e)}function et(l,e){return l%e}class _t{static getProps(e,o){let{width:n,height:s}=o.size.toValue();const r=tt(o.number,e.numCols),p=et(o.number,e.numCols),c={color:e.color,colors:e.colors,rsc:e.rsc,rscs:e.rscs,size:e.size,depth:e.depth,offset:new F({top:r*s,left:p*n})};return r+1===e.numRows&&(s=e.size.height.value-r*s),p+1===e.numCols&&(n=e.size.width.value-p*n),c.viewSize=new b({width:n,height:s}),c.css={...o.css,position:"absolute",...c.offset.toPx(),zIndex:o.number+1<e.numTiles/2?o.number+1:e.numTiles-o.number},c}}class Ct{static getTilesProps(e){const{rows:o,cols:n,size:s,color:r,colors:p,rsc:c,rscs:d,depth:a}=e,i=Math.ceil(o),f=Math.ceil(n),h={numRows:i,numCols:f,numTiles:i*f,size:s,depth:a,color:r,colors:p,rsc:c,rscs:d},m={number:0,size:new b({width:Math.floor(s.width.value/f),height:Math.floor(s.height.value/i)}),css:e.tileCss},k=[];for(let g=0;g<h.numTiles;g++)m.number=g,k.push(_t.getProps(h,m));return k}}const E=t.defineComponent({__name:"FluxGrid",props:{colors:{},rscs:{},rows:{default:1},cols:{default:1},depth:{default:0},tileCss:{},color:{},rsc:{},size:{},viewSize:{},offset:{},css:{}},setup(l,{expose:e}){const o=l,n=t.ref(null),s=t.reactive({base:{position:"relative"}}),{style:r,setCss:p,show:c,hide:d}=A(n,o,s),a=t.computed(()=>{var m;return o.rscs!==void 0?j:(m=o.rsc)==null?void 0:m.transition.component}),i=t.computed(()=>Ct.getTilesProps(o)),f=t.ref([]);return t.onBeforeUpdate(()=>{f.value=[]}),e({setCss:p,transform:m=>{f.value.forEach((k,g)=>m(k,g))},show:c,hide:d,getRowNumber:tt,getColNumber:et}),(m,k)=>(t.openBlock(),t.createElementBlock("div",{ref_key:"$el",ref:n,class:"flux-grid",style:t.normalizeStyle(t.unref(r))},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(i.value,(g,z)=>(t.openBlock(),t.createBlock(t.resolveDynamicComponent(a.value),t.mergeProps({ref_for:!0,ref:S=>f.value.push(S),key:z},g),null,16))),128))],4))}}),X=t.defineComponent({__name:"FluxImage",props:{color:{},rsc:{},size:{},viewSize:{},offset:{},css:{}},setup(l,{expose:e}){const o=l,n=t.ref(null),s=t.reactive({base:{overflow:"hidden"},color:t.computed(()=>{var f,h;const i={};return o.color!==void 0&&(i.backgroundColor=o.color),((f=o.rsc)==null?void 0:f.backgroundColor)!==null&&(i.backgroundColor=(h=o.rsc)==null?void 0:h.backgroundColor),i}),rsc:t.computed(()=>{const{rsc:i,size:f,offset:h}=o;if(!i)return{};if(i.status.value===N.notLoaded)return i.load(),{};if(!i.isLoaded()||!f.isValid()||!n.value)return{};const{width:m,height:k,top:g,left:z}=i.getResizeProps(f,h);return{backgroundImage:`url(${i.src})`,backgroundSize:`${m}px ${k}px`,backgroundPosition:`${z}px ${g}px`,backgroundRepeat:"no-repeat"}})}),{style:r,setCss:p,transform:c,show:d,hide:a}=A(n,o,s);return e({setCss:p,transform:c,show:d,hide:a}),(i,f)=>(t.openBlock(),t.createElementBlock("div",{ref_key:"$el",ref:n,class:"flux-image",style:t.normalizeStyle(t.unref(r))},null,4))}}),bt=t.defineComponent({__name:"FluxParallax",props:{rsc:{},holder:{default:()=>window},type:{default:"relative"},offset:{default:"100%"}},setup(l,{expose:e}){const{aspectRatio:o}=ut,n=l,s=t.ref(null),{holder:r,rsc:p}=n,c={base:{position:"relative",background:`url("${p.src}") no-repeat`},defined:t.reactive({}),final:t.computed(()=>({...c.base,...t.unref(c.defined)}))},d=/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.userAgent==="MacIntel"&&navigator.maxTouchPoints>1,a=t.reactive({width:0,height:0,aspectRatio:t.computed(()=>o(a))}),i=t.reactive({top:0,width:0,height:0,aspectRatio:t.computed(()=>o(i))}),f=t.reactive({top:0,left:0,width:0,height:0}),h={position:"absolute",top:0,left:0,bottom:0,right:0,clip:"rect(auto auto auto auto)"},m=t.computed(()=>({position:"absolute",top:0,bottom:0,left:0,right:0,background:`url("${p.src}") no-repeat center center fixed`,backgroundSize:`${f.width}px ${f.height}px`})),k=t.computed(()=>{const{offset:$}=n,B=parseFloat($);return/^[0-9]+px$/.test($)?{px:B,pct:B*100/f.height}:/^[0-9]+%$/.test($)?{px:Math.ceil(i.height*B/100),pct:B}:{px:0,pct:0}}),g=t.computed(()=>{const $=d?a.height:i.height+k.value.px;return f.height-$});t.onMounted(()=>{window.addEventListener("resize",z,{passive:!0}),(n.type!=="fixed"||d)&&r.addEventListener("scroll",D,{passive:!0}),p.load().then(()=>{z()})}),t.onUnmounted(()=>{window.removeEventListener("resize",z),r.removeEventListener("scroll",D)});const z=()=>{a.width=r.scrollWidth||r.innerWidth,a.height=r.scrollHeight||r.innerHeight,i.width=s.value.clientWidth,i.height=s.value.clientHeight,i.top=s.value.getBoundingClientRect().top+window.scrollY,p.displaySize.update(a);const $=p.resizeProps.value;f.width=$.width,f.height=$.height,c.defined.backgroundSize=`${f.width}px ${f.height}px`,c.defined.backgroundPosition="center 0",D()},S=$=>{g.value>0&&($=$*k.value.pct/100+50-k.value.pct/2),c.defined.backgroundPositionY=$.toFixed(2)+"%"},D=()=>{if(!p.isLoaded()||!d&&n.type==="fixed")return;const $=r.scrollY||r.scrollTop||0;if(r!==window)return W.relative($);if($+a.height<i.top||$>i.top+i.height)return;const B=$-i.top+a.height;W[n.type](B)},W={visible:$=>{let B=0;$<i.height?B=0:$>a.height?B=100:B=($-i.height)*100/(a.height-i.height),S(B)},relative:$=>{let B;r===window?B=$*100/(a.height+i.height):B=$*100/(a.height-r.clientHeight),S(B)},fixed:$=>{c.defined.backgroundPositionY=$-a.height+"px"}};return e({resize:z}),($,B)=>(t.openBlock(),t.createElementBlock("div",{ref_key:"$el",ref:s,class:"flux-parallax",style:t.normalizeStyle(c.final.value)},[n.type==="fixed"&&!t.unref(d)?(t.openBlock(),t.createElementBlock("div",{key:0,style:h},[t.createElementVNode("div",{class:"image",style:t.normalizeStyle(m.value)},null,4)])):t.createCommentVNode("",!0),t.renderSlot($.$slots,"default")],4))}}),ot=t.defineComponent({__name:"FluxTransition",props:{size:{},transition:{},from:{},to:{},displayComponent:{},options:{default:()=>({})}},emits:["ready","start","end"],setup(l,{expose:e,emit:o}){const n=l,s=t.ref(null),r=t.ref(null),p=o,c=t.reactive({base:{overflow:"hidden",perspective:"none",zIndex:3}}),d=t.computed(()=>{const{width:h,height:m}=n.size.toPx();return{...c.base,width:h,height:m}}),a=t.ref(1);t.onMounted(async()=>{await t.nextTick(),r.value!==null&&(a.value=r.value.totalDuration),p("ready",{transition:n.transition,from:n.from,to:n.to,options:n.options,duration:a.value})});async function i(){p("start",{transition:n.transition,from:n.from,to:n.to,options:n.options,duration:a.value}),await t.nextTick(),r.value===null?console.error("Transition component not available",n.transition):r.value.onPlay(),setTimeout(()=>f(),a.value)}function f(){p("end",{transition:n.transition,from:n.from,to:n.to,options:n.options,duration:a.value})}return t.onUnmounted(()=>{n.displayComponent&&n.displayComponent.show()}),e({start:i}),(h,m)=>(t.openBlock(),t.createElementBlock("div",{ref_key:"$el",ref:s,class:"flux-transition",style:t.normalizeStyle(d.value)},[(t.openBlock(),t.createBlock(t.resolveDynamicComponent(h.transition),{ref_key:"$transition",ref:r,size:h.size,from:h.from,to:h.to,"display-component":h.displayComponent,options:h.options,"mask-style":c.base},null,8,["size","from","to","display-component","options","mask-style"]))],4))}});class Bt{static getProps(e,o,n){const s=(e.numCircles-o)*e.radius*2,r=e.radius*o,p=new F({top:e.topGap+r,left:e.leftGap+r});return{offset:p,css:{...n,...p.toPx(),position:"absolute",width:s+"px",height:s+"px",backgroundRepeat:"repeat",borderRadius:"50%",zIndex:o}}}}class St{static getCirclesProps(e){const{width:o,height:n}=e.size.toValue(),s=Math.round(e.circles),r=H({width:o,height:n}),p=Math.ceil(r/2/s),c=Math.ceil(n/2-p*s),d=Math.ceil(o/2-p*s),a={numCircles:s,diagonal:r,radius:p,topGap:c,leftGap:d},i=[];for(let f=0;f<s;f++)i.push(Bt.getProps(a,f,e.tileCss));return i}}const I=t.defineComponent({__name:"FluxVortex",props:{rsc:{},circles:{default:1},tileCss:{},color:{},size:{},viewSize:{},offset:{},css:{}},setup(l,{expose:e}){const o=l,n=t.ref(null),s=t.reactive({base:{position:"relative",overflow:"hidden"}}),{style:r,setCss:p,show:c,hide:d}=A(n,o,s),a=t.computed(()=>St.getCirclesProps(o)),i=t.ref([]);return t.onBeforeUpdate(()=>{i.value=[]}),e({setCss:p,transform:h=>{i.value.forEach((m,k)=>h(m,k))},show:c,hide:d}),(h,m)=>(t.openBlock(),t.createElementBlock("div",{ref_key:"$el",ref:n,class:"flux-vortex",style:t.normalizeStyle(t.unref(r))},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(a.value,(k,g)=>(t.openBlock(),t.createBlock(t.resolveDynamicComponent(h.rsc.transition.component),{ref_for:!0,ref:z=>i.value.push(z),key:g,size:h.size,rsc:h.rsc,offset:k.offset,css:k.css},null,8,["size","rsc","offset","css"]))),128))],4))}}),Y=t.defineComponent({__name:"FluxWrapper",props:{color:{},rsc:{},size:{},viewSize:{},offset:{},css:{}},setup(l,{expose:e}){const o=l,n=t.ref(null),s=t.reactive({base:{overflow:"hidden"}}),{style:r,setCss:p,transform:c,show:d,hide:a}=A(n,o,s);return e({setCss:p,transform:c,show:d,hide:a}),(i,f)=>(t.openBlock(),t.createElementBlock("div",{ref_key:"$el",ref:n,class:"flux-wrapper",style:t.normalizeStyle(t.unref(r))},[t.renderSlot(i.$slots,"default")],4))}});var w=(l=>(l.prev="prev",l.next="next",l))(w||{}),L=(l=>(l.stopped="stopped",l.playing="playing",l))(L||{});class st{constructor(){u(this,"current",null);u(this,"from",null);u(this,"to",null)}reset(){this.current=null,this.from=null,this.to=null}init(e){this.current=e.getFirst()}currentSameAs(e){return this.current.index===e.index}prepareTo(e){this.from=this.current,this.to=e}}class nt{constructor(){u(this,"current",null);u(this,"last",null)}reset(){this.current=null,this.last=null}init(e){this.last=e.getLast()}setCurrentFinished(){this.last=this.current,this.current=null}}class Dt{static withOptions(e){return e.map(o=>{let n=o,s={};return"resource"in o&&(n=o.resource,"options"in o&&(s=o.options)),{resource:n,options:s}})}}class xt{constructor(e){u(this,"list",t.shallowReactive([]));u(this,"loader",t.ref(null));u(this,"emit");this.emit=e}getPrev(e){return this.getByIndex(e>0?e-1:this.list.length-1)}getNext(e){return this.getByIndex(e===this.list.length-1?0:e+1)}getFirst(){return this.getByIndex(0)}getLast(){return this.getByOrder(w.prev,0)}getByIndex(e){if(this.list[e]===void 0)throw new ReferenceError(`Resource index ${e} not found`);return{index:e,rsc:this.list[e].resource,options:JSON.parse(JSON.stringify(this.list[e].options))}}getByOrder(e,o){return{prev:()=>this.getPrev(o),next:()=>this.getNext(o)}[e]()}find(e,o){if(typeof e=="number")return this.getByIndex(e);if(o===void 0)throw new ReferenceError("Missing currentIndex parameter");return this.getByOrder(e,o)}update(e,o,n){var p,c;((p=this.loader.value)==null?void 0:p.hasFinished())===!1&&((c=this.loader.value)==null||c.cancel()),this.list.splice(0);const s=Dt.withOptions(e);return new Promise((d,a)=>{this.loader.value=new yt(s,o,n,()=>this.preloadStart(),i=>this.preloadEnd(i,d),()=>this.lazyLoadStart(),i=>this.lazyLoadEnd(i),a)})}preloadStart(){this.emit("resourcesPreloadStart")}preloadEnd(e,o){this.list.push(...e),this.emit("resourcesPreloadEnd"),o()}lazyLoadStart(){this.emit("resourcesLazyloadStart")}lazyLoadEnd(e){this.list.push(...e),this.emit("resourcesLazyloadEnd")}}class Pt{static withOptions(e){return e.map(o=>{let n=o,s={};return"component"in o&&(n=o.component,"options"in o&&(s=o.options)),{component:n,options:s}})}}class Et{constructor(){u(this,"list",t.shallowReactive([]))}getPrev(e){return this.getByIndex(e>0?e-1:this.list.length-1)}getNext(e){return this.getByIndex(e===this.list.length-1?0:e+1)}getFirst(){return this.getByIndex(0)}getLast(){return this.getByOrder(w.prev,0)}getByIndex(e){return{index:e,component:this.list[e].component,options:JSON.parse(JSON.stringify(this.list[e].options))}}getByOrder(e,o){return{prev:()=>this.getPrev(o),next:()=>this.getNext(o)}[e]()}update(e){this.list.splice(0);const o=Pt.withOptions(e);this.list.push(...o)}}class rt{constructor(e,o,n){u(this,"resource");u(this,"transition");u(this,"status",t.ref(L.stopped));u(this,"config");u(this,"timers");u(this,"emit");u(this,"resources");u(this,"transitions");u(this,"$displayComponent",t.ref(null));this.config=e,this.timers=o,this.emit=n,this.resources=new xt(n),this.transitions=new Et,this.resource=t.shallowReactive(new st),this.transition=t.shallowReactive(new nt)}setup(e){this.$displayComponent=e}play(e=w.next,o){var c,d;const{config:n,timers:s,resource:r}=this;if(this.status.value=L.playing,this.transition.current!==null)return;const p=(d=this.resources)==null?void 0:d.find(e,(c=r.current)==null?void 0:c.index);s.set("transition",o||(p==null?void 0:p.options.delay)||n.delay,()=>{this.show(e)}),this.emit("play",e,o)}async stop(e=!1){const{timers:o}=this;this.status.value=L.stopped,o.clear("transition"),this.transition.current!==null&&e===!0&&await this.end(e),this.emit("stop")}isReadyToShow(){if(this.resource.current===null)throw new ReferenceError("Current resource not set");if(this.resources===null)throw new ReferenceError("Resources list not set");if(this.resources.list.length===0)throw new RangeError("Resources list empty");if(this.transition.last===null)throw new ReferenceError("Last transition not set");if(this.transitions===null)throw new ReferenceError("Transitions list not set");if(this.transitions.list.length===0)throw new RangeError("Transitions list empty");if(this.$displayComponent.value===null)throw new ReferenceError("Display component not set");return!0}async show(e=w.next,o=w.next){if(!this.isReadyToShow())return;const{resource:n,resources:s,config:r,transitions:p}=this;if(this.transition.current!==null){r.allowToSkipTransition&&(await this.end(!0),this.show(e,o));return}const c=s.find(e,n.current.index);if(n.currentSameAs(c))return;n.prepareTo(c),this.timers.clear("transition");const d=typeof o=="number"?p.getByIndex(o):p.getByOrder(o,this.transition.last.index);d.options.direction===void 0&&(typeof e!="number"?d.options.direction=e:d.options.direction=this.resource.from.index<this.resource.to.index?w.next:w.prev),this.transition.current=d,this.emit("show",this.resource,this.transition)}start(){this.resource.current=this.resource.to,this.emit("transitionStart",this.resource,this.transition)}async end(e=!1){const{config:o,resource:n,resources:s,timers:r,transition:p}=this;if(!(n.current===null||s===null)){if(p.setCurrentFinished(),await t.nextTick(),e===!0?this.emit("transitionCancel",this.resource,this.transition):this.emit("transitionEnd",this.resource,this.transition),this.shouldStopPlaying(o.infinite,n.current,s.list.length-1)){this.stop();return}this.shouldPlayNext()&&r.set("transition",n.current.options.delay||o.delay,()=>{this.show()})}}shouldStopPlaying(e,o,n){return e===!1&&o.index>=n&&this.status.value===L.playing||o.options.stop===!0}shouldPlayNext(){return this.status.value===L.playing}}class U{constructor(e,o=null,n=null){u(this,"node");u(this,"config");u(this,"emit",null);u(this,"size",new b);u(this,"inFullScreen",()=>!!document.fullscreenElement);this.node=e,this.config=o,this.emit=n}static async getSize(e){const o=new U(e);return await o.updateSize(),o.size}addResizeListener(){window.addEventListener("resize",()=>this.updateSize(),{passive:!0})}removeResizeListener(){window.removeEventListener("resize",this.updateSize)}getAspectRatio(){if(this.config!==null){const[e,o]=this.config.aspectRatio.split(":");return[parseFloat(e),parseFloat(o)]}return[16,9]}async updateSize(){if(this.size.reset(),await t.nextTick(),this.node.value===null)return;const e=getComputedStyle(this.node.value),o=parseFloat(e.width);let n=parseFloat(e.height);if(["0px","auto",null].includes(e.height)){const[s,r]=this.getAspectRatio();n=o/s*r}this.size.update({width:o,height:n})}toggleFullScreen(){this.inFullScreen()?this.exitFullScreen():this.enterFullScreen()}async enterFullScreen(){var e,o;((e=this.node)==null?void 0:e.value)===null||!((o=this.config)!=null&&o.allowFullscreen)||(await this.node.value.requestFullscreen(),this.emit!==null&&this.emit("fullscreenEnter"))}async exitFullScreen(){await document.exitFullscreen(),this.emit!==null&&this.emit("fullscreenExit")}}class Lt{constructor(e,o){u(this,"config");u(this,"player");this.config=e,this.player=o}setup(){this.removeKeyListener(),this.config.bindKeys&&this.addKeyListener()}addKeyListener(){window.addEventListener("keydown",e=>this.keydown(e),{passive:!0})}removeKeyListener(){window.removeEventListener("keydown",()=>this.keydown)}keydown(e){if(["ArrowLeft","Left"].includes(e.key)){this.player.show(w.prev);return}if(["ArrowRight","Right"].includes(e.key)){this.player.show(w.next);return}}}class Vt{constructor(){u(this,"isOver",t.ref(!1))}setup(e,o){o.clear("mouseOver"),e.autohideTime===0&&(this.isOver.value=!0)}toggle(e,o,n){e.autohideTime!==0&&(this.isOver.value=n,this[n?"over":"out"](e,o))}out(e,o){o.clear("mouseOver")}over(e,o){o.set("mouseOver",e.autohideTime,()=>this.isOver.value=!1)}}class Rt{constructor(){u(this,"timers",{})}set(e,o,n){this.clear(e),this.timers[e]=setTimeout(n,o)}clear(e){(e!==void 0?[e]:Object.keys(this.timers)).forEach(n=>{clearTimeout(this.timers[n]),delete this.timers[n]})}}class Tt{constructor(){u(this,"startX",0);u(this,"startY",0);u(this,"startTime",0);u(this,"endTime",0);u(this,"prevTouchTime",0);u(this,"tapThreshold",5);u(this,"doubleTapThreshold",200);u(this,"slideTrigger",.3);u(this,"tap",(e,o)=>Math.abs(e)<this.tapThreshold&&Math.abs(o)<this.tapThreshold);u(this,"doubleTap",()=>this.endTime-this.prevTouchTime<this.doubleTapThreshold);u(this,"slideLeft",(e,o)=>o.size.isValid()&&e<0&&e<-(o.size.width.value*this.slideTrigger));u(this,"slideRight",(e,o)=>o.size.isValid()&&e>0&&e>o.size.width.value*this.slideTrigger);u(this,"slideUp",(e,o)=>o.size.isValid()&&e<0&&e<-(o.size.height.value*this.slideTrigger));u(this,"slideDown",(e,o)=>o.size.isValid()&&e>0&&e>o.size.height.value*this.slideTrigger)}start(e,o){o.enableGestures&&(this.startTime=Date.now(),this.startX=e.touches[0].clientX,this.startY=e.touches[0].clientY)}end(e,o,n,s,r,p){this.prevTouchTime=this.endTime,this.endTime=Date.now();const c=e.changedTouches[0].clientX-this.startX,d=e.changedTouches[0].clientY-this.startY;if(this.tap(c,d)){p.toggle(o,r,!0);return}o.enableGestures&&(this.slideRight(c,s)?n.show(w.prev):this.slideLeft(c,s)&&n.show(w.next))}}const Ft={key:2,class:"complements"},Nt=t.createElementVNode("div",{class:"remainder upper"},null,-1),Ot=t.createElementVNode("div",{class:"remainder lower"},null,-1),Mt=t.defineComponent({__name:"VueFlux",props:{options:{default:()=>({})},rscs:{},transitions:{}},emits:["created","mounted","unmounted","play","stop","show","optionsUpdated","transitionsUpdated","resourcesPreloadStart","resourcesPreloadEnd","resourcesLazyloadStart","resourcesLazyloadEnd","fullscreenEnter","fullscreenExit","transitionStart","transitionCancel","transitionEnd"],setup(l,{expose:e,emit:o}){const n=l,s=o,r=t.ref(null),p=t.ref(null),c=t.ref(null),d=t.reactive({allowFullscreen:!1,allowToSkipTransition:!0,aspectRatio:"16:9",autohideTime:2500,autoplay:!1,bindKeys:!1,delay:5e3,enableGestures:!1,infinite:!0,lazyLoad:!0,lazyLoadAfter:5}),a=new Rt,i=new rt(d,a,s),f=i.resources,h=i.transitions,m=new U(r,d,s),k=new Lt(d,i),g=new Vt,z=new Tt,S=()=>{Object.assign(d,n.options),g.setup(d,a),k.setup()};t.watch(n.options,()=>{S(),s("optionsUpdated")});async function D(T){const C=i.status.value===L.playing;C&&await i.stop(!0),await{rscs:async()=>await W(),transitions:()=>$()}[T](),C&&i.play()}async function W(){i.resource.reset();const T=d.lazyLoad?d.lazyLoadAfter:n.rscs.length;try{await f.update(t.toRaw(n.rscs),T,m.size)}catch(C){console.error(C)}f.list.length&&i.resource.init(f)}t.watch(()=>n.rscs,async()=>{await D("rscs")},{deep:!1});function $(){i.transition.reset(),h.update(t.toRaw(n.transitions)),i.transition.init(h)}t.watch(n.transitions,async()=>{await D("transitions"),s("transitionsUpdated")},{deep:!1}),t.onMounted(async()=>{S(),await m.updateSize(),m.addResizeListener(),i.setup(c),$(),await W(),d.autoplay===!0&&i.play(),s("mounted")}),t.onUnmounted(()=>{a.clear(),m.removeResizeListener(),k.removeKeyListener(),s("unmounted")});const B=t.computed(()=>m.size.isValid()?m.inFullScreen()?{width:"100% !important",height:"100% !important"}:m.size.toPx():{});return e({show:i.show.bind(i),play:i.play.bind(i),stop:i.stop.bind(i),getPlayer:()=>i,size:m.size}),s("created"),(T,C)=>(t.openBlock(),t.createElementBlock("div",{ref_key:"$el",ref:r,class:"vue-flux",style:t.normalizeStyle(B.value),onMousemove:C[3]||(C[3]=V=>t.unref(g).toggle(d,t.unref(a),!0)),onMouseleave:C[4]||(C[4]=V=>t.unref(g).toggle(d,t.unref(a),!1)),onDblclick:C[5]||(C[5]=V=>t.unref(m).toggleFullScreen()),onTouchstart:C[6]||(C[6]=V=>t.unref(z).start(V,d)),onTouchend:C[7]||(C[7]=V=>t.unref(z).end(V,d,t.unref(i),t.unref(m),t.unref(a),t.unref(g)))},[t.unref(i).transition.current!==null&&t.unref(m).size.isValid()&&t.unref(i).resource.from!==null&&t.unref(i).resource.to!==null?(t.openBlock(),t.createBlock(t.unref(ot),{key:0,ref_key:"$transition",ref:p,transition:t.unref(i).transition.current.component,size:t.unref(m).size,from:t.unref(i).resource.from.rsc,to:t.unref(i).resource.to.rsc,"display-component":c.value,options:t.unref(i).transition.current.options,onReady:C[0]||(C[0]=V=>{var it;return(it=p.value)==null?void 0:it.start()}),onStart:C[1]||(C[1]=V=>t.unref(i).start()),onEnd:C[2]||(C[2]=V=>t.unref(i).end())},null,8,["transition","size","from","to","display-component","options"])):t.createCommentVNode("",!0),t.unref(i).resource.current!==null?(t.openBlock(),t.createBlock(t.resolveDynamicComponent(t.unref(i).resource.current.rsc.display.component),t.mergeProps({key:1,ref_key:"$displayComponent",ref:c,size:t.unref(m).size,rsc:t.unref(i).resource.current.rsc},t.unref(i).resource.current.rsc.display.props),null,16,["size","rsc"])):t.createCommentVNode("",!0),t.unref(m).size.isValid()?(t.openBlock(),t.createElementBlock("div",Ft,[t.renderSlot(T.$slots,"preloader",{loader:t.unref(f).loader}),t.renderSlot(T.$slots,"caption",{player:t.unref(i)}),Nt,t.renderSlot(T.$slots,"controls",{mouseOver:t.unref(g).isOver,player:t.unref(i)}),Ot,t.renderSlot(T.$slots,"index",{mouseOver:t.unref(g).isOver,displaySize:t.unref(m).size,player:t.unref(i)}),t.renderSlot(T.$slots,"pagination",{player:t.unref(i)})])):t.createCommentVNode("",!0)],36))}}),At=t.defineComponent({__name:"FluxCaption",props:{player:{}},setup(l){const e=l,{resource:o,transition:n}=e.player,s=t.computed(()=>o.current===null||o.current.rsc.caption===null?"&nbsp;":o.current.rsc.caption),r=t.computed(()=>{const p=["flux-caption"];return n.current===null&&o.current!==null&&o.current.rsc.caption.length>0&&p.push("visible"),p});return(p,c)=>(t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(r.value)},[t.renderSlot(p.$slots,"default",{caption:s.value},()=>[t.createTextVNode(t.toDisplayString(s.value),1)])],2))}}),Wt=t.createElementVNode("polyline",{points:"64,18 22,50 64,82"},null,-1),jt=t.defineComponent({__name:"Prev",setup(l){return(e,o)=>(t.openBlock(),t.createBlock(t.unref(M),{class:"prev top left"},{default:t.withCtx(()=>[Wt]),_:1}))}}),Xt=t.createElementVNode("polygon",{points:"32,12 82,50 32,88"},null,-1),Yt=t.defineComponent({__name:"Play",setup(l){return(e,o)=>(t.openBlock(),t.createBlock(t.unref(M),{class:"play"},{default:t.withCtx(()=>[Xt]),_:1}))}}),Ht=t.createElementVNode("line",{x1:"32",y1:"22",x2:"32",y2:"78"},null,-1),It=t.createElementVNode("line",{x1:"68",y1:"22",x2:"68",y2:"78"},null,-1),Ut=t.defineComponent({__name:"Stop",setup(l){return(e,o)=>(t.openBlock(),t.createBlock(t.unref(M),{class:"pause"},{default:t.withCtx(()=>[Ht,It]),_:1}))}}),Gt=t.createElementVNode("polyline",{points:"36,18 78,50 36,82"},null,-1),Kt=t.defineComponent({__name:"Next",setup(l){return(e,o)=>(t.openBlock(),t.createBlock(t.unref(M),{class:"next top right"},{default:t.withCtx(()=>[Gt]),_:1}))}}),qt={key:0,class:"flux-controls"},Jt=t.defineComponent({__name:"FluxControls",props:{mouseOver:{default:void 0},player:{}},setup(l){const e=l,o=t.computed(()=>!(e.player.resource.current===null||e.mouseOver!==void 0&&t.unref(e.mouseOver)===!1));return(n,s)=>(t.openBlock(),t.createBlock(t.Transition,{name:"fade"},{default:t.withCtx(()=>[o.value?(t.openBlock(),t.createElementBlock("div",qt,[t.createVNode(jt,{onClick:s[0]||(s[0]=r=>n.player.show(t.unref(w).prev))}),(n.player.status.value||n.player.status)===t.unref(L).stopped?(t.openBlock(),t.createBlock(Yt,{key:0,onClick:s[1]||(s[1]=r=>n.player.play(t.unref(w).next,1))})):t.createCommentVNode("",!0),(n.player.status.value||n.player.status)===t.unref(L).playing?(t.openBlock(),t.createBlock(Ut,{key:1,onClick:s[2]||(s[2]=r=>n.player.stop())})):t.createCommentVNode("",!0),t.createVNode(Kt,{onClick:s[3]||(s[3]=r=>n.player.show(t.unref(w).next))})])):t.createCommentVNode("",!0)]),_:1}))}}),Zt=t.createElementVNode("rect",{x:"17.5",y:"17.5",width:"12px",height:"12px"},null,-1),Qt=t.createElementVNode("rect",{x:"17.5",y:"43",width:"12px",height:"12px"},null,-1),vt=t.createElementVNode("rect",{x:"17.5",y:"68.5",width:"12px",height:"12px"},null,-1),te=t.createElementVNode("rect",{x:"43",y:"17.5",width:"12px",height:"12px"},null,-1),ee=t.createElementVNode("rect",{x:"43",y:"43",width:"12px",height:"12px"},null,-1),oe=t.createElementVNode("rect",{x:"43",y:"68.5",width:"12px",height:"12px"},null,-1),se=t.createElementVNode("rect",{x:"68.5",y:"17.5",width:"12px",height:"12px"},null,-1),ne=t.createElementVNode("rect",{x:"68.5",y:"43",width:"12px",height:"12px"},null,-1),re=t.createElementVNode("rect",{x:"68.5",y:"68.5",width:"12px",height:"12px"},null,-1),ie=t.defineComponent({__name:"Button",props:{mouseOver:{default:void 0}},setup(l){const e=l,o=t.computed(()=>[!0,void 0].includes(t.unref(e.mouseOver)));return(n,s)=>(t.openBlock(),t.createBlock(t.Transition,{name:"fade"},{default:t.withCtx(()=>[o.value?(t.openBlock(),t.createBlock(t.unref(M),{key:0,class:"toggle bottom left"},{default:t.withCtx(()=>[Zt,Qt,vt,te,ee,oe,se,ne,re]),_:1})):t.createCommentVNode("",!0)]),_:1}))}}),le=t.defineComponent({__name:"Thumb",props:{rsc:{},size:{}},setup(l){return(e,o)=>(t.openBlock(),t.createElementBlock("li",null,[(t.openBlock(),t.createBlock(t.resolveDynamicComponent(e.rsc.transition.component),{rsc:e.rsc,size:e.size.value,title:e.rsc.caption},null,8,["rsc","size","title"]))]))}});function ae(l,e){const o=t.computed(()=>{let{width:s,height:r}=l.toValue();return s=s/4.2,r=s*90/160,s>160&&(s=160,r=90),new b({width:s,height:r})});function n(s){const{current:r}=e.resource;return r===null||r.index!==s?"":"current"}return{size:o,getClass:n}}const ce=500,pe=t.defineComponent({__name:"List",props:{displaySize:{},player:{},mouseOver:{default:void 0}},setup(l,{expose:e}){const o=l,n=t.ref(null),s=t.ref(!1),r=t.computed(()=>{const a=[];return s.value&&a.push("visible"),a});async function p(){n.value!==null&&(o.player.stop(),s.value=!0,await t.nextTick(),n.value.clientHeight,n.value.style.marginTop="0")}function c(a){var i;n.value!==null&&((i=o.player.resource.current)==null?void 0:i.index)!==a&&(o.mouseOver!==void 0&&(n.value.clientHeight,n.value.style.marginTop="100%"),setTimeout(()=>{s.value=!1,a!==null&&o.player.show(a)},ce))}const d=ae(o.displaySize,o.player);return e({show:p}),(a,i)=>(t.openBlock(),t.createElementBlock("nav",{class:t.normalizeClass(r.value),onClick:i[0]||(i[0]=f=>c(null))},[t.createElementVNode("ul",{ref_key:"$list",ref:n},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(a.player.resources.list,(f,h)=>(t.openBlock(),t.createBlock(le,{key:h,rsc:f.resource,size:t.unref(d).size,class:t.normalizeClass(t.unref(d).getClass(h)),onClick:m=>c(h)},null,8,["rsc","size","class","onClick"]))),128))],512)],2))}}),de={key:0,class:"flux-index"},fe=t.defineComponent({__name:"FluxIndex",props:{mouseOver:{default:void 0},displaySize:{},player:{}},setup(l){const e=l,o=t.ref(null),n=t.computed(()=>e.player.resources.list.length>0);return(s,r)=>n.value?(t.openBlock(),t.createElementBlock("div",de,[s.mouseOver?(t.openBlock(),t.createBlock(ie,{key:0,"mouse-over":s.mouseOver,onClick:r[0]||(r[0]=p=>{var c;return(c=o.value)==null?void 0:c.show()})},null,8,["mouse-over"])):t.createCommentVNode("",!0),t.createVNode(pe,{ref_key:"$fluxIndexList",ref:o,"display-size":s.displaySize,player:s.player,"mouse-over":s.mouseOver},null,8,["display-size","player","mouse-over"])])):t.createCommentVNode("",!0)}}),ue={key:0,class:"flux-pagination"},he=["title","onClick"],me=t.defineComponent({__name:"FluxPagination",props:{player:{}},setup(l){const e=l,{player:{resources:o,resource:n,transition:s}}=e,r=t.computed(()=>o.list.length>0),p=d=>d.resource.caption,c=(d,a)=>{var h;const i=[a];let f=((h=n.current)==null?void 0:h.index)===d;return s.current!==null&&(f=!1),f===!0&&i.push("active"),i};return(d,a)=>r.value?(t.openBlock(),t.createElementBlock("nav",ue,[t.createElementVNode("ul",null,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(d.player.resources.list,(i,f)=>(t.openBlock(),t.createElementBlock("li",{key:f},[t.renderSlot(d.$slots,"default",{index:f,rsc:i,title:p(i),cssClass:c(f,"custom-pagination-item")},()=>[t.createElementVNode("span",{title:p(i),class:t.normalizeClass(c(f,"pagination-item")),onClick:h=>d.player.show(f)},null,10,he)])]))),128))])])):t.createCommentVNode("",!0)}}),ye={class:"preloader"},ge={key:0,class:"spinner"},we={class:"pct"},ke=t.createElementVNode("div",{class:"border"},null,-1),ze=t.defineComponent({__name:"FluxPreloader",props:{loader:{}},setup(l){return(e,o)=>{var n,s,r;return t.openBlock(),t.createElementBlock("div",ye,[t.renderSlot(e.$slots,"default",{loader:e.loader,preloading:(n=e.loader.value)==null?void 0:n.preLoading.length,lazyloading:(s=e.loader.value)==null?void 0:s.lazyLoading.length,pct:(r=e.loader.value)==null?void 0:r.progress},()=>{var p,c;return[(p=e.loader.value)!=null&&p.preLoading.length?(t.openBlock(),t.createElementBlock("div",ge,[t.createElementVNode("div",we,t.toDisplayString((c=e.loader.value)==null?void 0:c.progress)+"%",1),ke])):t.createCommentVNode("",!0)]})])}}});function _(l,e){Object.assign(l,{direction:w.next},e)}const $e=t.defineComponent({__name:"Fade",props:{options:{},size:{},from:{},to:{},maskStyle:{},displayComponent:{}},setup(l,{expose:e}){const o=l,n=t.ref(null),s=t.reactive({totalDuration:1200,easing:"ease-in"});_(s,o.options);const r={zIndex:1};return e({onPlay:()=>{n.value.transform({transition:`opacity ${s.totalDuration}ms ${s.easing}`,opacity:0})},totalDuration:s.totalDuration}),(c,d)=>(t.openBlock(),t.createBlock(t.resolveDynamicComponent(c.from.transition.component),{ref_key:"$from",ref:n,rsc:c.from,size:c.size,css:r},null,8,["rsc","size"]))}}),_e=t.defineComponent({__name:"Kenburn",props:{options:{},size:{},from:{},to:{},maskStyle:{},displayComponent:{}},setup(l,{expose:e}){const o=l,n=t.ref(null),s=t.reactive({totalDuration:1500,easing:"linear"});_(s,o.options);const r=[{scale:"1.7",translateX:"-35%",translateY:"-35%",originX:"top",originY:"left"},{scale:"1.7",translateX:"35%",translateY:"-35%",originX:"top",originY:"right"},{scale:"1.7",translateX:"-35%",translateY:"35%",originX:"bottom",originY:"left"},{scale:"1.7",translateX:"35%",translateY:"35%",originX:"bottom",originY:"right"}],p=Math.floor(Math.random()*4),c=r[p],d={transformOrigin:c.originX+" "+c.originY};return e({onPlay:()=>{n.value.transform({transition:`all ${s.totalDuration}ms ${s.easing}`,transform:`scale(${c.scale}) translate(${c.translateX}, ${c.translateY})`,opacity:0})},totalDuration:s.totalDuration}),(i,f)=>(t.openBlock(),t.createBlock(t.resolveDynamicComponent(i.from.transition.component),{ref_key:"$from",ref:n,rsc:i.from,size:i.size,css:d},null,8,["rsc","size"]))}}),Ce=t.defineComponent({__name:"Swipe",props:{options:{},size:{},from:{},to:{},maskStyle:{},displayComponent:{}},setup(l,{expose:e}){const o=l,n=t.ref(null),s=t.ref(null),r=t.reactive({totalDuration:1400,easing:"ease-in-out"});_(r,o.options);const p={position:"absolute",top:0,display:"flex",flexWrap:"nowrap"},c={flex:"0 0 auto"};return{[w.prev]:()=>{Object.assign(p,{right:0,justifyContent:"flex-end"})},[w.next]:()=>{Object.assign(p,{left:0,justifyContent:"flex-start"})}}[r.direction](),e({onPlay:()=>{n.value.transform({transition:`width ${r.totalDuration}ms ${r.easing}`,width:0})},totalDuration:r.totalDuration}),(i,f)=>(t.openBlock(),t.createBlock(t.unref(Y),{ref_key:"$wrapper",ref:n,size:i.size,css:p},{default:t.withCtx(()=>[(t.openBlock(),t.createBlock(t.resolveDynamicComponent(i.from.transition.component),{ref_key:"$from",ref:s,rsc:i.from,size:i.size,css:c},null,8,["rsc","size"]))]),_:1},8,["size"]))}}),be=t.defineComponent({__name:"Slide",props:{options:{},size:{},from:{},to:{},maskStyle:{},displayComponent:{}},setup(l,{expose:e}){const o=l,n=t.ref(null),s=t.ref(null),r=t.ref(null),p=t.reactive({totalDuration:1400,easing:"ease-in-out"});_(p,o.options);const c=`transform ${p.totalDuration}ms ${p.easing}`,d={size:new b({width:o.size.width.value*2,height:o.size.height.value}),css:{display:"flex",flexWrap:"nowrap"}};let a,i;({[w.prev]:()=>{a=o.to,i=o.from,d.css.transform="translateX(-50%)"},[w.next]:()=>{a=o.from,i=o.to}})[p.direction]();const h={[w.prev]:()=>{n.value.transform({transition:c,transform:"translateX(0)"})},[w.next]:()=>{n.value.transform({transition:c,transform:"translateX(-50%)"})}};return e({onPlay:()=>{h[p.direction]()},totalDuration:p.totalDuration}),(k,g)=>(t.openBlock(),t.createBlock(t.unref(Y),t.mergeProps({ref_key:"$wrapper",ref:n},d),{default:t.withCtx(()=>[(t.openBlock(),t.createBlock(t.resolveDynamicComponent(t.unref(a).transition.component),{ref_key:"$left",ref:s,rsc:t.unref(a),size:k.size},null,8,["rsc","size"])),(t.openBlock(),t.createBlock(t.resolveDynamicComponent(t.unref(i).transition.component),{ref_key:"$right",ref:r,rsc:t.unref(i),size:k.size},null,8,["rsc","size"]))]),_:1},16))}}),Be=t.defineComponent({__name:"Waterfall",props:{options:{},size:{},from:{},to:{},maskStyle:{},displayComponent:{}},setup(l,{expose:e}){const o=l,n=t.ref(null),s=t.reactive({rows:1,cols:10,tileDuration:600,tileDelay:90,easing:"cubic-bezier(0.55, 0.055, 0.675, 0.19)"});_(s,o.options);const r=s.tileDelay*s.cols+s.tileDuration,p={[w.prev]:d=>(s.cols-d-1)*s.tileDelay,[w.next]:d=>d*s.tileDelay};return e({onPlay:()=>{n.value.transform((d,a)=>{const i=`all ${s.tileDuration}ms ${s.easing} ${p[s.direction](a)}ms`;d.transform({transition:i,opacity:"0.1",transform:"translateY(100%)"})})},totalDuration:r}),(d,a)=>(t.openBlock(),t.createBlock(t.unref(E),{ref_key:"$grid",ref:n,rows:s.rows,cols:s.cols,size:d.size,rsc:d.from},null,8,["rows","cols","size","rsc"]))}}),Se=t.defineComponent({__name:"Zip",props:{options:{},size:{},from:{},to:{},maskStyle:{},displayComponent:{}},setup(l,{expose:e}){const o=l,n=t.ref(null),s=t.reactive({rows:1,cols:10,tileDuration:600,tileDelay:80,easing:"ease-in"});_(s,o.options);const r=s.tileDelay*s.cols+s.tileDuration,p={[w.prev]:d=>(s.cols-d-1)*s.tileDelay,[w.next]:d=>d*s.tileDelay};return e({onPlay:()=>{n.value.transform((d,a)=>{const i=`all ${s.tileDuration}ms ${s.easing} ${p[s.direction](a)}ms`;d.transform({transition:i,opacity:"0.1",transform:`translateY(${a%2?"-":""}100%)`})})},totalDuration:r}),(d,a)=>(t.openBlock(),t.createBlock(t.unref(E),{ref_key:"$grid",ref:n,rows:s.rows,cols:s.cols,size:d.size,rsc:d.from},null,8,["rows","cols","size","rsc"]))}}),De=t.defineComponent({__name:"Blinds2D",props:{options:{},size:{},from:{},to:{},maskStyle:{},displayComponent:{}},setup(l,{expose:e}){const o=l,n=t.ref(null),s=t.reactive({rows:1,cols:10,tileDuration:800,tileDelay:100,easing:"linear"});_(s,o.options);const r={[P.front]:o.from},p=s.tileDelay*s.cols+s.tileDuration,c={prev:a=>(s.cols-a-1)*s.tileDelay,next:a=>a*s.tileDelay};return e({onPlay:()=>{n.value.transform((a,i)=>{const f=`all ${s.tileDuration}ms ${s.easing} ${c[s.direction](i)}ms`;a.transform({transition:f,opacity:"0.1",transform:"scaleX(0)"})})},totalDuration:p}),(a,i)=>(t.openBlock(),t.createBlock(t.unref(E),{ref_key:"$grid",ref:n,rows:s.rows,cols:s.cols,size:a.size,rscs:r},null,8,["rows","cols","size"]))}}),xe=t.defineComponent({__name:"Blocks1",props:{options:{},size:{},from:{},to:{},maskStyle:{},displayComponent:{}},setup(l,{expose:e}){var d;const o=l,n=t.ref(null),s=t.reactive({rows:8,cols:8,tileDuration:300,tileDelay:1e3,easing:"linear"});if(_(s,o.options),!((d=o.options)!=null&&d.rows)){const a=o.size.width.value/s.cols;s.rows=Math.floor(o.size.height.value/a)}const r=s.tileDelay+s.tileDuration,p=()=>Math.floor(Math.random()*s.tileDelay);return e({onPlay:()=>{n.value.transform(a=>{const i=`all ${s.tileDuration}ms ${s.easing} ${p()}ms`;a.transform({transition:i,opacity:"0",transform:"scale(0.3, 0.3)"})})},totalDuration:r}),(a,i)=>(t.openBlock(),t.createBlock(t.unref(E),{ref_key:"$grid",ref:n,rows:s.rows,cols:s.cols,size:a.size,rsc:a.from},null,8,["rows","cols","size","rsc"]))}}),Pe=t.defineComponent({__name:"Blocks2",props:{options:{},size:{},from:{},to:{},maskStyle:{},displayComponent:{}},setup(l,{expose:e}){var k;const o=l,n=t.ref(null),s=t.ref(null),r=t.reactive({rows:8,cols:8,tileDuration:800,tileDelay:80,easing:"ease"});_(r,o.options);const p=r.tileDelay*(r.rows+r.cols)+r.tileDuration;if(!((k=o.options)!=null&&k.rows)){const g=o.size.width.value/r.cols;r.rows=Math.floor(o.size.height.value/g)}const c={rsc:null,css:{position:"absolute",top:0,left:0,zIndex:1}},d=JSON.parse(JSON.stringify(c));d.css.zIndex=2;let a={};({prev:()=>{d.rsc=o.to,c.rsc=o.from,a={opacity:"0",transform:"scale(0.3)"}},next:()=>{d.rsc=o.from}})[r.direction]();const f=g=>{const z=n.value.getRowNumber(g,r.cols);let D=n.value.getColNumber(g,r.cols)+z;return r.direction===w.prev&&(D=r.rows+r.cols-D-1),D*r.tileDelay},h={prev:()=>{n.value.transform((g,z)=>{g.transform({transition:`all ${r.tileDuration}ms ${r.easing} ${f(z)}ms`,opacity:"1",transform:"scale(1)"})})},next:()=>{n.value.transform((g,z)=>{g.transform({transition:`all ${r.tileDuration}ms ${r.easing} ${f(z)}ms`,opacity:"0",transform:"scale(0.3)"})})}};return e({onPlay:()=>{h[r.direction]()},totalDuration:p}),(g,z)=>(t.openBlock(),t.createElementBlock("div",null,[t.createVNode(t.unref(E),t.mergeProps({ref_key:"$grid",ref:n,rows:r.rows,cols:r.cols,size:g.size,"tile-css":t.unref(a)},t.unref(d)),null,16,["rows","cols","size","tile-css"]),c.rsc!==null?(t.openBlock(),t.createBlock(t.resolveDynamicComponent(c.rsc.transition.component),t.mergeProps({key:0,ref_key:"$background",ref:s,size:g.size},c),null,16,["size"])):t.createCommentVNode("",!0)]))}}),Ee=t.defineComponent({__name:"Concentric",props:{options:{},size:{},from:{},to:{},maskStyle:{},displayComponent:{}},setup(l,{expose:e}){const o=l,n=t.ref(null),s=t.reactive({circles:7,tileDuration:800,tileDelay:150,easing:"linear"});_(s,o.options);const r=s.tileDelay*s.circles+s.tileDuration,p=a=>a*s.tileDelay,c={[w.prev]:"-90",[w.next]:"90"}[s.direction];return e({onPlay:()=>{n.value.transform((a,i)=>{const f=`all ${s.tileDuration}ms ${s.easing} ${p(i)}ms`;a.transform({transition:f,opacity:"0",transform:`rotateZ(${c}deg)`})})},totalDuration:r}),(a,i)=>(t.openBlock(),t.createBlock(t.unref(I),{ref_key:"$vortex",ref:n,size:a.size,circles:s.circles,rsc:a.from},null,8,["size","circles","rsc"]))}}),Le=t.defineComponent({__name:"Warp",props:{options:{},size:{},from:{},to:{},maskStyle:{},displayComponent:{}},setup(l,{expose:e}){const o=l,n=t.ref(null),s=t.reactive({circles:7,tileDuration:800,tileDelay:150,easing:"linear"});_(s,o.options);const r=s.tileDelay*s.circles+s.tileDuration,p={[w.prev]:a=>(s.circles-a-1)*s.tileDelay,[w.next]:a=>a*s.tileDelay},c=a=>a%2===0?"-90":"90";return e({onPlay:()=>{n.value.transform((a,i)=>{const f=`all ${s.tileDuration}ms ${s.easing} ${p[s.direction](i)}ms`;a.transform({transition:f,opacity:"0",transform:`rotateZ(${c(i)}deg)`})})},totalDuration:r}),(a,i)=>(t.openBlock(),t.createBlock(t.unref(I),{ref_key:"$vortex",ref:n,size:a.size,circles:s.circles,rsc:a.from},null,8,["size","circles","rsc"]))}}),Ve=t.defineComponent({__name:"Camera",props:{options:{},size:{},from:{},to:{},maskStyle:{},displayComponent:{}},setup(l,{expose:e}){const o=l,n=t.ref(null),s=t.ref(null),r=t.reactive({totalDuration:900,backgroundColor:"#111",easing:"cubic-bezier(0.385, 0, 0.795, 0.560)"});_(r,o.options);const p={alignSelf:"center",flex:"none"},c=H(o.size.toValue()),d=new b({width:c,height:c}),a={boxSizing:"border-box",position:"absolute",display:"flex",justifyContent:"center",overflow:"hidden",borderRadius:"50%",border:"0 solid "+r.backgroundColor,top:(o.size.height.value-c)/2+"px",left:(o.size.width.value-c)/2+"px"};return e({onPlay:()=>{n.value.transform({transition:`all ${r.totalDuration/2-50}ms ${r.easing} 0ms`,borderWidth:c/2+"px"}),setTimeout(()=>{s.value.hide(),n.value.transform({transition:`all ${r.totalDuration/2-50}ms ${r.easing} 0ms`,borderWidth:0})},r.totalDuration/2+50)},totalDuration:r.totalDuration}),(f,h)=>(t.openBlock(),t.createBlock(t.unref(Y),{ref_key:"$wrapper",ref:n,size:t.unref(d),css:a},{default:t.withCtx(()=>[(t.openBlock(),t.createBlock(t.resolveDynamicComponent(f.from.transition.component),{ref_key:"$from",ref:s,size:f.size,rsc:f.from,css:p},null,8,["size","rsc"]))]),_:1},8,["size"]))}}),Re=t.defineComponent({__name:"Cube",props:{options:{},size:{},from:{},to:{},maskStyle:{},displayComponent:{}},setup(l,{expose:e}){const o=l,n=t.ref(null),s=t.reactive({totalDuration:1400,easing:"ease-out"});_(s,o.options),Object.assign(o.maskStyle,{perspective:"1600px",overflow:"visible"});const r={front:o.from,left:o.to,right:o.to},p={transition:`all ${s.totalDuration}ms ${s.easing}`},c={[w.prev]:R.right,[w.next]:R.left}[s.direction];return e({onPlay:()=>{o.displayComponent!==null&&o.displayComponent.hide(),n.value.turn(c)},totalDuration:s.totalDuration}),(a,i)=>(t.openBlock(),t.createBlock(t.unref(j),{ref_key:"$cube",ref:n,rscs:r,size:a.size,depth:a.size.width.value,css:p},null,8,["size","depth"]))}}),Te=t.defineComponent({__name:"Book",props:{options:{},size:{},from:{},to:{},maskStyle:{},displayComponent:{}},setup(l,{expose:e}){const o=l,n=t.ref(null),s=t.ref(null),r=t.reactive({totalDuration:1200,easing:"ease-out"});_(r,o.options);const p=new b({width:Math.ceil(o.size.width.value/2),height:o.size.height.value}),c={perspective:"1600px",width:"100%",height:"100%"},d=new F({top:0,left:0}),a={position:"absolute",top:0,left:0},i={rscs:{front:o.from,back:o.to},offsets:{front:new F({top:0,left:0}),back:new F({top:0,left:0})},origin:"",css:{position:"absolute",top:0,left:0}},f=Math.ceil(o.size.width.value/2),h=f.toString()+"px";o.maskStyle.overflow="visible",{prev:()=>{d.left.value=f,a.left=h,i.offsets.back.left.value=f,i.origin="right center",i.css={...i.css}},next:()=>{i.offsets.front.left.value=f,i.origin="left center",i.css={...i.css,left:h}}}[r.direction]();const k={[w.prev]:"180",[w.next]:"-180"}[r.direction];return e({onPlay:()=>{s.value.transform({transition:`transform ${r.totalDuration}ms ${r.easing}`,transform:`rotateY(${k}deg)`})},totalDuration:r.totalDuration}),(z,S)=>(t.openBlock(),t.createElementBlock("div",{style:c},[(t.openBlock(),t.createBlock(t.resolveDynamicComponent(z.from.transition.component),{ref_key:"$from",ref:n,rsc:z.from,size:z.size,"view-size":t.unref(p),offset:t.unref(d),css:a},null,8,["rsc","size","view-size","offset"])),t.createVNode(t.unref(j),{ref_key:"$cube",ref:s,rscs:i.rscs,size:z.size,"view-size":t.unref(p),offsets:i.offsets,origin:i.origin,css:i.css},null,8,["rscs","size","view-size","offsets","origin","css"])]))}}),Fe=t.defineComponent({__name:"Fall",props:{options:{},size:{},from:{},to:{},maskStyle:{},displayComponent:{}},setup(l,{expose:e}){const o=l,n=t.ref(null),s=t.reactive({totalDuration:1600,easing:"ease-in"});_(s,o.options),Object.assign(o.maskStyle,{perspective:"1600px",overflow:"visible"});const r={transformOrigin:"center bottom"};return e({onPlay:()=>{n.value.transform({transition:`transform ${s.totalDuration}ms ${s.easing}`,transform:"rotateX(-83.6deg)"})},totalDuration:s.totalDuration}),(c,d)=>(t.openBlock(),t.createBlock(t.resolveDynamicComponent(c.from.transition.component),{ref_key:"$from",ref:n,rsc:c.from,size:c.size,style:r},null,8,["rsc","size"]))}}),Ne=t.defineComponent({__name:"Wave",props:{options:{},size:{},from:{},to:{},maskStyle:{},displayComponent:{}},setup(l,{expose:e}){const o=l,n=t.ref(null),s=t.reactive({rows:1,cols:8,tileDuration:900,tileDelay:110,sideColor:"#333",easing:"cubic-bezier(0.3, -0.3, 0.735, 0.285)"});_(s,o.options),o.maskStyle.overflow="visible";const r={front:o.from,top:o.to},p={left:s.sideColor,right:s.sideColor},c={perspective:"1200px"},d=s.tileDelay*s.cols+s.tileDuration,a={[w.prev]:f=>(s.cols-f-1)*s.tileDelay,[w.next]:f=>f*s.tileDelay};return e({onPlay:()=>{o.displayComponent&&o.displayComponent.hide(),n.value.transform((f,h)=>{const m=`all ${s.tileDuration}ms ${s.easing} ${a[s.direction](h)}ms`;f.setCss({transition:m}),f.turn(R.bottom)})},totalDuration:d}),(f,h)=>(t.openBlock(),t.createBlock(t.unref(E),{ref_key:"$grid",ref:n,rows:s.rows,cols:s.cols,size:f.size,rscs:r,colors:p,depth:f.size.height.value,css:c},null,8,["rows","cols","size","depth"]))}}),Oe=t.defineComponent({__name:"Blinds3D",props:{options:{},size:{},from:{},to:{},maskStyle:{},displayComponent:{}},setup(l,{expose:e}){const o=l,n=t.ref(null),s=t.reactive({rows:1,cols:6,tileDuration:800,tileDelay:150,easing:"ease-out"});_(s,o.options);const r={perspective:"800px"},p={front:o.from,back:o.to},c=s.tileDelay*s.cols+s.tileDuration;o.maskStyle.overflow="visible";const d={prev:f=>(s.cols-f-1)*s.tileDelay,next:f=>f*s.tileDelay},a={prev:R.backl,next:R.backr}[s.direction];return e({onPlay:()=>{o.displayComponent&&o.displayComponent.hide(),n.value.transform((f,h)=>{const m=`all ${s.tileDuration}ms ${s.easing} ${d[s.direction](h)}ms`;f.setCss({transition:m}),f.turn(a)})},totalDuration:c}),(f,h)=>(t.openBlock(),t.createBlock(t.unref(E),{ref_key:"$grid",ref:n,rows:s.rows,cols:s.cols,size:f.size,rscs:p,css:r},null,8,["rows","cols","size"]))}}),Me=t.defineComponent({__name:"Round1",props:{options:{},size:{},from:{},to:{},maskStyle:{},displayComponent:{}},setup(l,{expose:e}){var h;const o=l,n=t.ref(null),s=t.reactive({rows:0,cols:8,tileDuration:800,tileDelay:150,easing:"ease-out"});_(s,o.options);const r={front:o.from,back:o.to},p={perspective:"800px"};if(o.maskStyle.overflow="visible",!((h=o.options)!=null&&h.rows)){const m=o.size.width.value/s.cols;s.rows=Math.floor(o.size.height.value/m)}const c=s.rows>s.cols?s.rows:s.cols,d=s.tileDelay*c*2,a=m=>{const k=n.value.getRowNumber(m,s.cols);let z=n.value.getColNumber(m,s.cols)+k;return s.direction===w.prev&&(z=s.rows+s.cols-z-1),z*s.tileDelay},i={[w.prev]:R.backl,[w.next]:R.backr}[s.direction];return e({onPlay:()=>{o.displayComponent&&o.displayComponent.hide(),n.value.transform((m,k)=>{const g=`all ${s.tileDuration}ms ${s.easing} ${a(k)}ms`;m.setCss({transition:g}),m.turn(i)})},totalDuration:d}),(m,k)=>(t.openBlock(),t.createBlock(t.unref(E),{ref_key:"$grid",ref:n,rows:s.rows,cols:s.cols,size:m.size,rscs:r,css:p},null,8,["rows","cols","size"]))}}),Ae=t.defineComponent({__name:"Round2",props:{options:{},size:{},from:{},to:{},maskStyle:{},displayComponent:{}},setup(l,{expose:e}){var i;const o=l,n=t.ref(null),s=t.reactive({rows:0,cols:9,tileDuration:800,tileDelay:100,rotateX:-540,easing:"linear"});_(s,o.options),o.maskStyle.overflow="visible";const r={perspective:"1200px"},p={backfaceVisibility:"hidden"};if(!((i=o.options)!=null&&i.rows)){const f=o.size.width.value/s.cols;s.rows=Math.floor(o.size.height.value/f)}const c=(s.cols/2+s.rows)*(s.tileDelay*2),d=f=>{const h=n.value.getRowNumber(f,s.cols),m=n.value.getColNumber(f,s.cols);let k,g;return s.direction===w.prev?(k=Math.abs(s.rows/2-.5-h),g=Math.abs(s.cols-m)):(k=Math.abs(s.rows/2-.5-h),g=Math.abs(m)),(k+g-1)*s.tileDelay};return e({onPlay:()=>{n.value.transform((f,h)=>{const m=`all ${s.tileDuration}ms ${s.easing} ${d(h)}ms`;f.transform({transition:m,opacity:"0",transform:`rotateY(${s.rotateX.toString()}deg)`})})},totalDuration:c}),(f,h)=>(t.openBlock(),t.createBlock(t.unref(E),{ref_key:"$grid",ref:n,rows:s.rows,cols:s.cols,size:f.size,depth:0,rsc:f.from,css:r,"tile-css":p},null,8,["rows","cols","size","rsc"]))}}),We=t.defineComponent({__name:"Explode",props:{options:{},size:{},from:{},to:{},maskStyle:{},displayComponent:{}},setup(l,{expose:e}){var a;const o=l,n=t.ref(null),s=t.reactive({rows:9,cols:9,tileDuration:300,tileDelay:100,easing:"linear"});_(s,o.options);const r={overflow:"visible"};if(o.maskStyle.overflow="visible",!((a=o.options)!=null&&a.rows)){const i=o.size.width.value/s.cols;s.rows=Math.floor(o.size.height.value/i)}const p=(s.cols/2+s.rows/2)*(s.tileDelay*2),c=i=>{const f=n.value.getRowNumber(i,s.cols),h=n.value.getColNumber(i,s.cols),m=Math.abs(s.rows/2-.5-f),k=Math.abs(s.cols/2-.5-h);return(m+k-1)*s.tileDelay};return e({onPlay:()=>{n.value.transform((i,f)=>{const h=`all ${s.tileDuration}ms ${s.easing} ${c(f)}ms`;i.transform({transition:h,borderRadius:"100%",opacity:"0",transform:"scale(2)"})})},totalDuration:p}),(i,f)=>(t.openBlock(),t.createBlock(t.unref(E),{ref_key:"$grid",ref:n,rows:s.rows,cols:s.cols,size:i.size,rsc:i.from,css:r},null,8,["rows","cols","size","rsc"]))}});y.Blinds2D=De,y.Blinds3D=Oe,y.Blocks1=xe,y.Blocks2=Pe,y.Book=Te,y.Camera=Ve,y.Concentric=Ee,y.Cube=Re,y.Directions=w,y.Explode=We,y.Fade=$e,y.Fall=Fe,y.FluxButton=M,y.FluxCaption=At,y.FluxControls=Jt,y.FluxCube=j,y.FluxGrid=E,y.FluxImage=X,y.FluxIndex=fe,y.FluxPagination=me,y.FluxParallax=bt,y.FluxPreloader=ze,y.FluxTransition=ot,y.FluxVortex=I,y.FluxWrapper=Y,y.Img=ht,y.Kenburn=_e,y.Player=rt,y.PlayerResource=st,y.PlayerTransition=nt,y.Position=F,y.ResizeTypes=x,y.Resource=K,y.Round1=Me,y.Round2=Ae,y.Sides=P,y.Size=b,y.Slide=be,y.Statuses=L,y.Swipe=Ce,y.Turns=R,y.VueFlux=Mt,y.Warp=Le,y.Waterfall=Be,y.Wave=Ne,y.Zip=Se,y.useTransition=_,Object.defineProperty(y,Symbol.toStringTag,{value:"Module"})});
